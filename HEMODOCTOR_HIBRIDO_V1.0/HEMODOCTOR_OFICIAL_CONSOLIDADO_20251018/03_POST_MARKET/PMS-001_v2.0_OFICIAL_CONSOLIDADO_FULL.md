# PMS-001: Plano de Vigilância Pós-Comercialização
**HemoDoctor v1.1.0 - Sistema de Apoio à Decisão Clínica em Hematologia**

---

## Informações do Documento

| Campo | Valor |
|-------|-------|
| **Documento** | PMS-001 |
| **Versão** | 1.1.0 |
| **Data** | 2024-09-28 |
| **Classificação** | ANVISA Classe III / IEC 62304 Classe C |
| **Responsável Técnico** | Dr. Abel Costa Neto |
| **Revisor Regulatório** | Equipe Assuntos Regulatórios HemoDoctor |
| **Status** | Aprovado para Submissão ANVISA |

---

## 1. Resumo Executivo

### 1.1 Objetivo do Plano

Este documento estabelece os procedimentos de vigilância pós-comercialização para o HemoDoctor, em conformidade com a RDC 185/2001 da ANVISA e diretrizes internacionais de farmacovigilância de dispositivos médicos.

### 1.2 Escopo da Vigilância

- **Eventos Adversos**: Monitoramento contínuo de falhas e efeitos não intencionais
- **Eficácia Clínica**: Avaliação contínua do desempenho diagnóstico
- **Segurança do Paciente**: Monitoramento de impactos na segurança clínica
- **Conformidade Regulatória**: Manutenção da conformidade com requisitos ANVISA

---

## 2. Marco Regulatório

### 2.1 Regulamentações Aplicáveis

| Regulamentação | Descrição | Aplicabilidade |
|---------------|-----------|----------------|
| RDC 185/2001 | Registro de produtos médicos | Obrigatória |
| IN 8/2014 | Software médico | Obrigatória |
| ISO 14971:2019 | Gestão de riscos | Obrigatória |
| IEC 62304:2006 | Software médico | Obrigatória |
| LGPD | Proteção de dados | Obrigatória |

### 2.2 Definições e Terminologia

- **Evento Adverso (EA)**: Qualquer ocorrência médica desfavorável associada ao uso do dispositivo
- **Efeito Colateral**: Efeito não intencional, mas esperado, do uso do dispositivo
- **Mal Funcionamento**: Falha no desempenho esperado do dispositivo
- **Uso Inadequado**: Utilização fora das especificações do dispositivo

---

## 3. Sistema de Vigilância NOTIVISA

### 3.1 Integração com NOTIVISA

#### 3.1.1 Procedimentos de Notificação

```
Detecção de Evento → Investigação → Classificação → Notificação NOTIVISA
     ↓                    ↓              ↓              ↓
Automática/Manual → 24h máx. → Gravidade → 72h máx.
```

#### 3.1.2 Classificação de Eventos

| Categoria | Critério | Prazo Notificação |
|-----------|----------|-------------------|
| **Crítico** | Morte ou lesão grave | 24 horas |
| **Grave** | Hospitalização necessária | 48 horas |
| **Moderado** | Tratamento médico adicional | 72 horas |
| **Leve** | Sem consequências clínicas | 7 dias |

### 3.2 Coleta de Dados de Vigilância

#### 3.2.1 Fontes de Dados

1. **Sistema de Auditoria Interna**
   - Logs de sistema automatizados
   - Métricas de performance em tempo real
   - Alertas de exceção automáticos

2. **Feedback de Usuários**
   - Relatórios de incidentes de usuários
   - Pesquisas de satisfação periódicas
   - Sistema de feedback integrado

3. **Monitoramento Clínico**
   - Revisão de casos clínicos
   - Acompanhamento de outcomes
   - Validação de decisões diagnósticas

#### 3.2.2 Dados Coletados

```sql
CREATE TABLE hdoc_vigilancia_eventos (
    id UUID PRIMARY KEY,
    timestamp TIMESTAMP NOT NULL,
    tipo_evento ENUM('tecnico', 'clinico', 'usuario') NOT NULL,
    gravidade ENUM('critico', 'grave', 'moderado', 'leve') NOT NULL,
    descricao TEXT NOT NULL,
    impacto_paciente BOOLEAN,
    acao_corretiva TEXT,
    status_investigacao ENUM('aberto', 'investigando', 'resolvido') DEFAULT 'aberto',
    notificado_anvisa BOOLEAN DEFAULT FALSE,
    numero_notivisa VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## 4. Procedimentos de Investigação

### 4.1 Processo de Investigação de Eventos

#### 4.1.1 Investigação Inicial (0-24h)

1. **Triagem e Classificação**
   - Avaliação da gravidade do evento
   - Identificação de impacto no paciente
   - Determinação de urgência de resposta

2. **Contenção Imediata**
   - Isolamento do problema se necessário
   - Comunicação com usuários afetados
   - Acionamento de plano de contingência

#### 4.1.2 Investigação Detalhada (24-72h)

1. **Análise de Causa Raiz**
   - Revisão de logs de sistema
   - Análise de configurações
   - Entrevistas com usuários envolvidos

2. **Análise de Impacto**
   - Quantificação de usuários afetados
   - Avaliação de riscos à segurança
   - Identificação de padrões similares

### 4.2 Documentação de Investigações

#### 4.2.1 Relatório de Investigação

```markdown
# Relatório de Investigação - Evento EA-YYYY-NNNN

## 1. Informações Básicas
- **Data/Hora**: [timestamp]
- **Gravidade**: [crítico/grave/moderado/leve]
- **Usuário Relatante**: [identificação anonymizada]
- **Local**: [instituição/cidade]

## 2. Descrição do Evento
[Descrição detalhada do ocorrido]

## 3. Análise de Causa Raiz
[Metodologia e resultados da análise]

## 4. Impacto no Paciente
[Avaliação de consequências clínicas]

## 5. Ações Corretivas
[Medidas implementadas ou planejadas]

## 6. Prevenção
[Medidas para evitar recorrência]
```

---

## 5. Relatórios Periódicos de Segurança (PSUR)

### 5.1 Periodicidade de Relatórios

| Período Pós-Comercialização | Frequência PSUR |
|-----------------------------|------------------|
| 0-6 meses | Trimestral |
| 6-24 meses | Semestral |
| Após 24 meses | Anual |

### 5.2 Conteúdo dos PSUR

#### 5.2.1 Dados de Exposição

```sql
SELECT
    COUNT(DISTINCT hdoc_exam_id) as total_exames,
    COUNT(DISTINCT institution_id) as instituicoes_ativas,
    COUNT(DISTINCT user_id) as usuarios_ativos,
    AVG(response_time_ms) as tempo_resposta_medio
FROM hdoc_performance_metrics
WHERE created_at BETWEEN date_inicio AND date_fim;
```

#### 5.2.2 Análise de Eventos Adversos

1. **Resumo Estatístico**
   - Total de eventos reportados
   - Distribuição por gravidade
   - Tendências temporais

2. **Análise de Padrões**
   - Identificação de clusters
   - Correlações com atualizações
   - Análise de sazonalidade

### 5.3 Avaliação Benefício-Risco

#### 5.3.1 Métricas de Eficácia

```python
# Cálculo de métricas de performance clínica
def calculate_clinical_metrics(period_data):
    """
    Calcula métricas de performance clínica para PSUR
    """
    sensitivity = period_data['true_positives'] / (
        period_data['true_positives'] + period_data['false_negatives']
    )

    specificity = period_data['true_negatives'] / (
        period_data['true_negatives'] + period_data['false_positives']
    )

    ppv = period_data['true_positives'] / (
        period_data['true_positives'] + period_data['false_positives']
    )

    return {
        'sensitivity': sensitivity,
        'specificity': specificity,
        'positive_predictive_value': ppv,
        'confidence_interval_95': calculate_ci(period_data)
    }
```

---

## 6. Monitoramento de Performance Clínica

### 6.1 Indicadores de Performance

#### 6.1.1 KPIs Primários

| Indicador | Meta | Limite Crítico | Ação se Excedido |
|-----------|------|----------------|------------------|
| Sensibilidade | ≥ 90% | < 85% | Revisão algoritmo |
| Especificidade | ≥ 80% | < 75% | Análise de falsos positivos |
| Tempo de Resposta | ≤ 2s (p95) | > 5s | Otimização performance |
| Disponibilidade | ≥ 99.9% | < 99.5% | Plano contingência |

#### 6.1.2 Monitoramento Contínuo

```sql
-- Query para monitoramento diário de performance
CREATE VIEW daily_performance_monitor AS
SELECT
    DATE(created_at) as data,
    COUNT(*) as total_analises,
    AVG(CASE WHEN decision_type = 'critical' THEN 1 ELSE 0 END) as taxa_criticos,
    AVG(response_time_ms) as tempo_resposta_medio,
    COUNT(CASE WHEN status = 'error' THEN 1 END) as total_erros
FROM hdoc_route_executions
GROUP BY DATE(created_at)
ORDER BY data DESC;
```

### 6.2 Acompanhamento Clínico Pós-Mercado (PMCF)

#### 6.2.1 Estudos de Acompanhamento

1. **Estudo de Efetividade Real**
   - Análise retrospectiva de casos
   - Comparação com diagnósticos confirmados
   - Avaliação de impacto no tempo de diagnóstico

2. **Pesquisa de Satisfação de Usuários**
   - Questionários trimestrais
   - Entrevistas em profundidade
   - Análise de usabilidade contínua

#### 6.2.2 Validação Contínua

```python
class ContinuousValidationManager:
    """
    Gerenciador de validação contínua pós-comercialização
    """

    def __init__(self):
        self.validation_metrics = {}
        self.alert_thresholds = {
            'sensitivity_drop': 0.05,  # 5% drop triggers alert
            'specificity_drop': 0.05,
            'response_time_increase': 1.5  # 50% increase
        }

    def daily_validation_check(self):
        """
        Executa verificação diária de validação
        """
        current_metrics = self.calculate_current_metrics()
        baseline_metrics = self.get_baseline_metrics()

        alerts = self.compare_metrics(current_metrics, baseline_metrics)

        if alerts:
            self.trigger_investigation(alerts)

        return alerts

    def trigger_investigation(self, alerts):
        """
        Aciona investigação para alertas de performance
        """
        for alert in alerts:
            self.create_investigation_ticket(alert)
            self.notify_quality_team(alert)
```

---

## 7. Gestão de Mudanças e Melhorias

### 7.1 Processo de Melhoria Contínua

#### 7.1.1 Ciclo PDCA

```
Plan (Planejar) → Do (Executar) → Check (Verificar) → Act (Agir)
     ↓                ↓               ↓                ↓
Identificar      Implementar     Monitorar        Padronizar
Oportunidade     Melhoria        Resultados       Melhoria
```

#### 7.1.2 Fontes de Melhoria

1. **Análise de Eventos Adversos**
   - Lições aprendidas de incidentes
   - Identificação de pontos fracos
   - Oportunidades de prevenção

2. **Feedback de Stakeholders**
   - Sugestões de usuários finais
   - Recomendações clínicas
   - Atualizações de diretrizes médicas

### 7.2 Controle de Mudanças

#### 7.2.1 Classificação de Mudanças

| Tipo | Critério | Aprovação Necessária |
|------|----------|---------------------|
| **Crítica** | Impacto em segurança | ANVISA + Comitê Técnico |
| **Maior** | Nova funcionalidade | Comitê Técnico |
| **Menor** | Correção de bug | Responsável Técnico |
| **Emergencial** | Correção crítica | Processo acelerado |

---

## 8. Comunicação e Transparência

### 8.1 Comunicação com ANVISA

#### 8.1.1 Canais de Comunicação

- **NOTIVISA**: Notificações obrigatórias
- **Portal ANVISA**: Atualizações de registro
- **E-mail Oficial**: Comunicações formais
- **Telefone de Emergência**: Situações críticas

#### 8.1.2 Documentação de Comunicações

```sql
CREATE TABLE hdoc_comunicacao_anvisa (
    id UUID PRIMARY KEY,
    tipo_comunicacao ENUM('notificacao', 'atualizacao', 'consulta') NOT NULL,
    numero_protocolo VARCHAR(50),
    assunto VARCHAR(200) NOT NULL,
    conteudo TEXT NOT NULL,
    data_envio TIMESTAMP NOT NULL,
    data_resposta TIMESTAMP,
    status ENUM('enviado', 'processando', 'respondido') DEFAULT 'enviado',
    anexos JSON,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 8.2 Comunicação com Usuários

#### 8.2.1 Canais de Comunicação

1. **Sistema de Notificações**
   - Alertas in-app para atualizações críticas
   - E-mails para comunicações importantes
   - SMS para emergências

2. **Portal de Usuários**
   - Boletins de segurança
   - Notas de atualização
   - FAQs e documentação

#### 8.2.2 Protocolo de Comunicação de Emergência

```
Evento Crítico Detectado → Avaliação Impacto → Comunicação Imediata
        ↓                        ↓                    ↓
    < 1 hora                 < 2 horas            < 4 horas
```

---

## 9. Recursos e Responsabilidades

### 9.1 Equipe de Vigilância

#### 9.1.1 Estrutura Organizacional

```
                    Responsável Técnico
                           |
          +-----------------+-----------------+
          |                 |                 |
   Coordenador        Coordenador       Coordenador
   Vigilância         Qualidade         Regulatório
       |                 |                 |
   Analistas         Analistas         Especialistas
   Vigilância        Qualidade         Regulatórios
```

#### 9.1.2 Responsabilidades

| Função | Responsabilidades |
|--------|-------------------|
| **Responsável Técnico** | Supervisão geral, decisões estratégicas |
| **Coordenador Vigilância** | Monitoramento diário, investigações |
| **Coordenador Qualidade** | Análise de métricas, melhorias |
| **Coordenador Regulatório** | Interface ANVISA, compliance |

### 9.2 Recursos Tecnológicos

#### 9.2.1 Sistemas de Apoio

1. **Sistema de Monitoramento**
   - Dashboards em tempo real
   - Alertas automáticos
   - Relatórios automatizados

2. **Base de Conhecimento**
   - Histórico de eventos
   - Procedimentos documentados
   - Lições aprendidas

---

## 10. Auditoria e Verificação

### 10.1 Auditorias Internas

#### 10.1.1 Cronograma de Auditorias

| Área | Frequência | Escopo |
|------|------------|--------|
| **Processo Vigilância** | Trimestral | Conformidade procedimentos |
| **Dados NOTIVISA** | Mensal | Qualidade e completude |
| **Performance Clínica** | Mensal | Métricas e tendências |
| **Comunicações** | Semestral | Efetividade e tempestividade |

#### 10.1.2 Critérios de Auditoria

1. **Conformidade Regulatória**
   - Aderência a prazos ANVISA
   - Qualidade das notificações
   - Documentação adequada

2. **Eficácia do Sistema**
   - Detecção de eventos
   - Tempo de resposta
   - Ações corretivas

### 10.2 Auditorias Externas

#### 10.2.1 Preparação para Auditorias ANVISA

1. **Documentação Requerida**
   - Registros de vigilância
   - Relatórios PSUR
   - Evidências de investigações

2. **Demonstração de Conformidade**
   - Procedimentos implementados
   - Treinamento de equipe
   - Eficácia do sistema

---

## 11. Indicadores e Métricas

### 11.1 KPIs de Vigilância

#### 11.1.1 Indicadores de Processo

| Indicador | Meta | Medição |
|-----------|------|---------|
| Tempo Detecção Evento | < 4 horas | Automático |
| Tempo Notificação ANVISA | < 72 horas | Manual |
| Taxa Resolução Eventos | > 95% | Mensal |
| Satisfação Usuários | > 85% | Trimestral |

#### 11.1.2 Dashboard de Monitoramento

```python
class VigilanceDashboard:
    """
    Dashboard para monitoramento de indicadores de vigilância
    """

    def __init__(self):
        self.metrics_collector = MetricsCollector()
        self.alert_manager = AlertManager()

    def generate_daily_report(self):
        """
        Gera relatório diário de vigilância
        """
        return {
            'events_detected': self.count_daily_events(),
            'notifications_sent': self.count_notifications(),
            'response_times': self.calculate_response_times(),
            'system_performance': self.get_system_metrics(),
            'alerts_active': self.get_active_alerts()
        }

    def check_thresholds(self):
        """
        Verifica se métricas estão dentro dos limites
        """
        metrics = self.metrics_collector.get_current_metrics()

        for metric, value in metrics.items():
            threshold = self.get_threshold(metric)
            if value > threshold:
                self.alert_manager.trigger_alert(metric, value, threshold)
```

---

## 12. Treinamento e Competência

### 12.1 Programa de Treinamento

#### 12.1.1 Treinamento Inicial

1. **Fundamentos de Vigilância**
   - Regulamentações ANVISA
   - Procedimentos internos
   - Sistemas de apoio

2. **Treinamento Específico por Função**
   - Investigação de eventos
   - Análise de dados
   - Comunicação regulatória

#### 12.1.2 Treinamento Continuado

| Tópico | Frequência | Duração |
|--------|------------|---------|
| Atualizações Regulatórias | Semestral | 4 horas |
| Novos Procedimentos | Conforme necessário | 2-8 horas |
| Casos Práticos | Trimestral | 2 horas |

### 12.2 Avaliação de Competência

#### 12.2.1 Critérios de Avaliação

1. **Conhecimento Técnico**
   - Compreensão de regulamentações
   - Domínio de procedimentos
   - Capacidade de análise

2. **Habilidades Práticas**
   - Investigação de eventos
   - Uso de sistemas
   - Comunicação efetiva

---

## 13. Conclusão

### 13.1 Compromisso com a Vigilância

O HemoDoctor mantém compromisso contínuo com a vigilância pós-comercialização, assegurando:

- **Segurança do Paciente**: Prioridade máxima em todas as decisões
- **Conformidade Regulatória**: Aderência rigorosa aos requisitos ANVISA
- **Melhoria Contínua**: Evolução baseada em evidências e experiência
- **Transparência**: Comunicação aberta com autoridades e usuários

### 13.2 Próximos Passos

1. **Implementação**: Execução dos procedimentos documentados
2. **Monitoramento**: Acompanhamento contínuo de indicadores
3. **Melhoria**: Refinamento baseado em experiência prática
4. **Expansão**: Evolução do sistema conforme crescimento do produto

---

## Anexos

### Anexo A: Formulários de Notificação
[Templates de formulários para diferentes tipos de eventos]

### Anexo B: Contatos de Emergência
[Lista de contatos para situações críticas]

### Anexo C: Cronograma de Atividades
[Cronograma detalhado de atividades de vigilância]

### Anexo D: Procedimentos de Backup
[Procedimentos para backup de dados de vigilância]

---

**Aprovação:**

| Função | Nome | Assinatura | Data |
|--------|------|------------|------|
| Responsável Técnico | Dr. Abel Costa Neto | [Assinatura Digital] | 2024-09-28 |
| Coordenador Regulatório | [Nome] | [Assinatura Digital] | 2024-09-28 |
| Diretor Médico | [Nome] | [Assinatura Digital] | 2024-09-28 |

---

*Documento confidencial - Propriedade da HemoDoctor. Distribuição restrita.*